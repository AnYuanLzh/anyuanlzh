var __defProp=Object.defineProperty,__hasOwnProp=Object.prototype.hasOwnProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,a)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,__assign=(e,t)=>{for(var a in t||(t={}))__hasOwnProp.call(t,a)&&__defNormalProp(e,a,t[a]);if(__getOwnPropSymbols)for(var a of __getOwnPropSymbols(t))__propIsEnum.call(t,a)&&__defNormalProp(e,a,t[a]);return e};import{d as defineComponent,j as reactive,t as toRefs,p as pushScopeId,a as popScopeId,o as openBlock,c as createBlock,b as createVNode,k as toDisplayString,w as withScopeId,e as createTextVNode}from"./vendor.7c83416f.js";var _sfc_main=defineComponent({name:"CompName",setup(){const state=reactive({equation:"0",isDecimalAdded:!1,isOperatorAdded:!1,isStarted:!1}),isOperator=e=>["+","-","x","÷"].indexOf(e)>-1,append=e=>{if(console.log("append",e),"0"===state.equation&&!isOperator(e))return"."===e?(state.equation+=""+e,state.isDecimalAdded=!0):state.equation=""+e,void(state.isStarted=!0);if(!(state.equation.length>10))if(isOperator(e)){if(state.isOperatorAdded)return;state.equation+=""+e,state.isDecimalAdded=!1,state.isOperatorAdded=!0}else{if("."===e&&state.isDecimalAdded)return;state.equation+=""+e,"."===e?(state.isDecimalAdded=!0,state.isOperatorAdded=!0):state.isOperatorAdded=!1}},calculate=()=>{console.log("calculate");let rusult=state.equation.replace(new RegExp("x","g"),"*").replace(new RegExp("÷","g"),"/"),temp=eval(rusult).toFixed(9),r=parseFloat(temp).toString();state.equation=r,state.isDecimalAdded=!1,state.isOperatorAdded=!1},calculateToggle=()=>{console.log("calculateToggle"),!state.isOperatorAdded&&state.isStarted&&(state.equation=state.equation+"* -1",calculate())},calculatePercentage=()=>{console.log("calculatePercenttage"),!state.isOperatorAdded&&state.isStarted&&(state.equation=state.equation+"* 0.01",calculate())},clear=()=>{console.log("clear"),state.equation="0",state.isDecimalAdded=!1,state.isOperatorAdded=!1,state.isStarted=!1};return __assign(__assign({},toRefs(state)),{isOperator:isOperator,append:append,calculate:calculate,calculateToggle:calculateToggle,calculatePercentage:calculatePercentage,clear:clear})}}),Calculator_vue_vue_type_style_index_0_scoped_true_lang='/* @tailwind base;\r\n@tailwind components;\r\n@tailwind utilities; */\n.lzh-wrap[data-v-5514a156] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-top: 1.5rem;\n  padding-bottom: 1.5rem;\n  background-color: #eee;\n}\n.lzh-calcalutor[data-v-5514a156] {\n  /* 定义两个css变量 */\n  --btn-w: 80px;\n  --btn-h: 80px;\n  /* 设置一个4x6的grid布局 */\n  --tw-bg-opacity: 1;\n  background-color: rgba(229, 231, 235, var(--tw-bg-opacity));\n  border-radius: 1rem;\n  display: grid;\n  padding: 1.5rem;\n  grid-template-areas:\r\n            "result result result result"\r\n            "ac plus-minus percent divide"\r\n            "num-7 num-8 num-9 multiply"\r\n            "num-4 num-5 num-6 substract"\r\n            "num-1 num-2 num-3 add"\r\n            "num-0 num-0 dot equal";\n  grid-template-columns: repeat(4, var(--btn-w));\n  grid-template-rows: repeat(6, var(--btn-h));\n  /* 边框阴影 */\n  /* x偏移量 | y偏移量 | 模糊半径 | 扩散半径| 阴影颜色 */\n  box-shadow: -8px -8px 16px -10px rgba(255, 255, 255, 1),\r\n            8px 8px 16px -10px rgba(0, 0, 0, 0.5);\n}\n.lzh-calcalutor button[data-v-5514a156] {\n  border-radius: 9999px;\n  font-weight: 400;\n  font-size: 1.5rem;\n  line-height: 2rem;\n  margin: 0.5rem;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  --tw-text-opacity: 1;\n  color: rgba(156, 163, 175, var(--tw-text-opacity));\n  font-family: Helvetica;\n  /* 设置出一点凹下去的感觉 */\n  background: linear-gradient(\r\n            135deg,\r\n            rgba(220, 220, 220, 1) 0%,\r\n            rgba(246, 246, 246, 1) 100%\r\n        );\n  box-shadow: -4px -4px 16px -10px rgba(255, 255, 255, 1),\r\n            4px 4px 16px -10px rgba(0, 0, 0, 0.3);\n}\n.lzh-calcalutor button[data-v-5514a156]:active {\n  box-shadow: -4px -4px 16px -10px rgba(255, 255, 255, 1) inset,\r\n            4px 4px 16px -10px rgba(0, 0, 0, 0.3) inset;\n}\n.lzh-calcalutor .lzh-result[data-v-5514a156] {\n  font-size: 2.25rem;\n  line-height: 2.5rem;\n  overflow: hidden;\n  padding-left: 1.25rem;\n  padding-right: 1.25rem;\n  text-align: right;\n  --tw-text-opacity: 1;\n  color: rgba(55, 65, 81, var(--tw-text-opacity));\n  line-height: var(--btn-h);\n  font-family: Helvetica;\n}\r\n';const _withId=withScopeId("data-v-5514a156");pushScopeId("data-v-5514a156");const _hoisted_1=createVNode("h1",{class:"text-center pt-2 pb-1"},"vue3+ts实现的简单计算器",-1),_hoisted_2=createVNode("h2",{class:"text-center pb-1 text-gray-400 text-xs underline italic"},[createTextVNode(" 参考来源： "),createVNode("a",{href:"https://www.bilibili.com/video/BV1Ag4y1q7sU/?spm_id_from=333.788.recommend_more_video.-1"}," B站 - CodingStartup起码课 -【Vue】制作新拟态计算器")],-1),_hoisted_3={class:"lzh-wrap"},_hoisted_4={class:"lzh-calcalutor"},_hoisted_5={class:"lzh-result",style:{"grid-area":"result"}};popScopeId();const _sfc_render=_withId(((e,t,a,r,n,o)=>(openBlock(),createBlock("div",null,[_hoisted_1,_hoisted_2,createVNode("div",_hoisted_3,[createVNode("div",_hoisted_4,[createVNode("div",_hoisted_5,toDisplayString(e.equation),1),createVNode("button",{style:{"grid-area":"ac"},onClick:t[1]||(t[1]=(...t)=>e.clear&&e.clear(...t))},"AC"),createVNode("button",{style:{"grid-area":"plus-minus"},onClick:t[2]||(t[2]=(...t)=>e.calculateToggle&&e.calculateToggle(...t))}," ± "),createVNode("button",{style:{"grid-area":"percent"},onClick:t[3]||(t[3]=(...t)=>e.calculatePercentage&&e.calculatePercentage(...t))}," % "),createVNode("button",{style:{"grid-area":"add"},onClick:t[4]||(t[4]=t=>e.append("+"))},"+"),createVNode("button",{style:{"grid-area":"substract"},onClick:t[5]||(t[5]=t=>e.append("-"))}," - "),createVNode("button",{style:{"grid-area":"multiply"},onClick:t[6]||(t[6]=t=>e.append("x"))}," x "),createVNode("button",{style:{"grid-area":"divide"},onClick:t[7]||(t[7]=t=>e.append("÷"))}," ÷ "),createVNode("button",{style:{"grid-area":"equal"},onClick:t[8]||(t[8]=(...t)=>e.calculate&&e.calculate(...t))},"="),createVNode("button",{style:{"grid-area":"num-1"},onClick:t[9]||(t[9]=t=>e.append("1"))},"1"),createVNode("button",{style:{"grid-area":"num-2"},onClick:t[10]||(t[10]=t=>e.append("2"))},"2"),createVNode("button",{style:{"grid-area":"num-3"},onClick:t[11]||(t[11]=t=>e.append("3"))},"3"),createVNode("button",{style:{"grid-area":"num-4"},onClick:t[12]||(t[12]=t=>e.append("4"))},"4"),createVNode("button",{style:{"grid-area":"num-5"},onClick:t[13]||(t[13]=t=>e.append("5"))},"5"),createVNode("button",{style:{"grid-area":"num-6"},onClick:t[14]||(t[14]=t=>e.append("6"))},"6"),createVNode("button",{style:{"grid-area":"num-7"},onClick:t[15]||(t[15]=t=>e.append("7"))},"7"),createVNode("button",{style:{"grid-area":"num-8"},onClick:t[16]||(t[16]=t=>e.append("8"))},"8"),createVNode("button",{style:{"grid-area":"num-9"},onClick:t[17]||(t[17]=t=>e.append("9"))},"9"),createVNode("button",{style:{"grid-area":"num-0"},onClick:t[18]||(t[18]=t=>e.append("0"))},"0"),createVNode("button",{style:{"grid-area":"dot"},onClick:t[19]||(t[19]=t=>e.append("."))},".")])])]))));_sfc_main.render=_sfc_render,_sfc_main.__scopeId="data-v-5514a156";export default _sfc_main;
